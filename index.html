<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Desafio 30 Dias de Hobbies</title>
  <style>
    :root{
      --bg:#0f1724; /* deep navy */
      --card:#0b1220;
      --muted:#9aa7bf;
      --accent:#2b8af6; /* blue */
      --accent-2:#6ea8ff;
      --glass: rgba(255,255,255,0.04);
      --success:#28c76f;
      --radius:14px;
      --blur:8px;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color-scheme: dark;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#071020 0%, #0b1530 100%);color:#e6eef8}
    a{color:inherit}
    .app{max-width:1100px;margin:28px auto;padding:20px}
    header{display:flex;align-items:center;justify-content:space-between;gap:16px}
    .logo{display:flex;align-items:center;gap:12px}
    .logo .mark{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:flex;align-items:center;justify-content:center;font-weight:700;box-shadow:0 8px 30px rgba(43,138,246,0.12)}
    h1{font-size:20px;margin:0}
    .sub{color:var(--muted);font-size:13px}

    /* card */
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:18px;border-radius:var(--radius);backdrop-filter:blur(var(--blur));box-shadow:0 6px 30px rgba(2,6,23,0.6);}

    /* home */
    .home-hero{display:grid;grid-template-columns:1fr 360px;gap:20px;margin-top:18px}
    .hero-text h2{font-size:28px;margin:0 0 8px}
    .hero-text p{color:var(--muted);line-height:1.5}
    .btn{display:inline-flex;align-items:center;gap:10px;background:var(--accent);color:white;padding:12px 16px;border-radius:999px;border:0;cursor:pointer;font-weight:600;box-shadow:0 8px 24px rgba(43,138,246,0.18);transition:transform .18s ease,box-shadow .18s}
    .btn:active{transform:translateY(1px)}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--accent-2);box-shadow:none}

    .countdown{font-weight:700;font-size:14px;background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:10px;border-radius:12px;text-align:center}

    /* selection */
    .grid-60{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:10px;margin-top:14px}
    .hobby-item{display:flex;align-items:center;gap:12px;padding:10px;border-radius:12px;background:var(--glass);border:1px solid rgba(255,255,255,0.02);cursor:pointer;transition:transform .12s,box-shadow .12s}
    .hobby-item:hover{transform:translateY(-5px);box-shadow:0 10px 30px rgba(2,6,23,0.6)}
    .hobby-item input{width:18px;height:18px}
    .hobby-name{font-weight:600}
    .muted{color:var(--muted);font-size:13px}
    .controls{display:flex;gap:12px;align-items:center;margin-top:12px}

    /* dashboard */
    .dash-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px;margin-top:14px}
    .hobby-card{padding:14px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));}
    .pill{display:inline-flex;padding:6px 10px;border-radius:999px;background:rgba(255,255,255,0.03);align-items:center;gap:8px}

    .progress-wrap{display:flex;align-items:center;gap:12px;margin-top:10px}
    .progbar{flex:1;height:12px;background:rgba(255,255,255,0.04);border-radius:999px;overflow:hidden}
    .progbar > i{display:block;height:100%;background:linear-gradient(90deg,var(--accent),var(--accent-2));width:0%;transition:width .6s cubic-bezier(.2,.9,.2,1)}

    /* hobby detail */
    .suggestions{margin-top:12px;display:flex;flex-direction:column;gap:8px}
    .suggestions li{background:rgba(255,255,255,0.02);padding:10px;border-radius:10px}

    footer{margin-top:30px;color:var(--muted);font-size:13px;text-align:center}

    /* small screens */
    @media (max-width:880px){.home-hero{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div class="logo">
        <div class="mark">ğŸ’¡</div>
        <div>
          <h1>Desafio 30 Dias de Hobbies</h1>
          <div class="sub">Minimal Â· TecnolÃ³gico Â· Motivacional ğŸš€</div>
        </div>
      </div>
      <div style="display:flex;gap:12px;align-items:center">
        <div id="countdownTop" class="countdown card">NÃ£o iniciado â³</div>
        <button class="btn ghost" id="goHome">InÃ­cio</button>
      </div>
    </header>

    <main id="main">
      <!-- HOME -->
      <section id="view-home" class="card" style="margin-top:18px">
        <div class="home-hero">
          <div class="hero-text">
            <h2>VocÃª tem 30 dias para realizar 5 hobbies de uma lista com 60 opÃ§Ãµes. âœ¨ğŸ‘©â€ğŸ’»</h2>
            <p>Escolha 5 hobbies, dedique tempo a aprender e completar desafios prÃ¡ticos. O site salva seu progresso localmente para vocÃª continuar sempre que quiser. Comece agora e transforme 30 dias em crescimento pessoal! ğŸ’«</p>
            <div style="margin-top:16px">
              <button class="btn" id="startBtn">Iniciar Desafio ğŸš€</button>
              <button class="btn ghost" id="seeHobbies">Ver lista de hobbies</button>
            </div>
            <div style="margin-top:12px;color:var(--muted)">Dica: clique em Iniciar e selecione 5 hobbies que vocÃª realmente quer experimentar. ğŸ˜‰</div>
          </div>

          <div class="card" style="padding:18px;border-radius:16px;height:100%">
            <div style="display:flex;flex-direction:column;gap:12px;align-items:center">
              <div style="font-size:13px;color:var(--muted)">Progresso do desafio</div>
              <div class="pill">ğŸ“… <strong id="daysLeft">â€”</strong> dias restantes</div>
              <div style="width:100%;margin-top:12px">
                <div style="color:var(--muted);font-size:13px">Status</div>
                <div class="progress-wrap">
                  <div class="progbar" style="width:100%"><i id="progBarInner"></i></div>
                  <div id="progText" style="min-width:70px;text-align:right;font-weight:700">0/5</div>
                </div>
                <div style="color:var(--muted);font-size:12px;margin-top:8px">Comece quando clicar em "Iniciar Desafio" â€” o tempo comeÃ§a a contar imediatamente. â±ï¸</div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- SELECTION -->
      <section id="view-selection" class="card" style="display:none;margin-top:18px">
        <div style="display:flex;align-items:center;justify-content:space-between">
          <div>
            <h2>Escolha 5 hobbies ğŸ§­</h2>
            <div class="muted">Marque atÃ© 5 opÃ§Ãµes. VocÃª pode alterar atÃ© confirmar.</div>
          </div>
          <div class="controls">
            <button class="btn ghost" id="backToHome">Voltar</button>
            <button class="btn" id="confirmSelection">Confirmar seleÃ§Ã£o âœ…</button>
          </div>
        </div>
        <div class="grid-60" id="hobbyGrid"></div>
      </section>

      <!-- DASHBOARD -->
      <section id="view-dashboard" class="card" style="display:none;margin-top:18px">
        <div style="display:flex;align-items:center;justify-content:space-between">
          <div>
            <h2>Seu Dashboard ğŸ¯</h2>
            <div class="muted">Aqui estÃ£o os 5 hobbies do seu desafio.</div>
          </div>
          <div style="display:flex;align-items:center;gap:10px">
            <div class="pill">ğŸ“† <span id="dashDaysLeft">â€”</span> dias</div>
            <button class="btn ghost" id="resetBtn">Reiniciar desafio</button>
          </div>
        </div>

        <div class="dash-grid" id="selectedHobbies"></div>
      </section>

      <!-- HOBBY DETAIL -->
      <section id="view-hobby" class="card" style="display:none;margin-top:18px">
        <div style="display:flex;align-items:center;justify-content:space-between">
          <div>
            <h2 id="hobbyTitle">Hobby</h2>
            <div class="muted" id="hobbySubtitle">SugestÃµes e plano</div>
          </div>
          <div class="controls">
            <button class="btn ghost" id="backToDash">Voltar ao dashboard</button>
            <button class="btn" id="completeHobby">ConcluÃ­do âœ…</button>
          </div>
        </div>
        <div style="margin-top:12px">
          <h3>SugestÃµes de aprendizado ğŸ’¡</h3>
          <ul class="suggestions" id="suggestionsList"></ul>
        </div>
      </section>

      <!-- RESULT -->
      <section id="view-result" class="card" style="display:none;margin-top:18px;text-align:center">
        <div id="resultContent"></div>
        <div style="margin-top:16px">
          <button class="btn" id="shareBtn">Compartilhar resultado ğŸ‰</button>
          <button class="btn ghost" id="goHomeFromResult">Ir para InÃ­cio</button>
        </div>
      </section>

    </main>

    <footer>
      Feito com ğŸ’™ por vocÃª â€” Desafio 30 Dias â€¢ Salvamento local (localStorage) â€¢ Visual motivacional ğŸ¤–
    </footer>
  </div>

<script>
// ----- Dados: 60 hobbies com 5 sugestÃµes cada -----
const HOBBIES = [
  {name:'Desenho', picks:[
    'Assista a tutoriais de desenho bÃ¡sico (proporÃ§Ã£o, sombra, perspectiva).',
    'Pratique um esboÃ§o por dia â€” 10 minutos cada.','Experimente materiais diferentes: carvÃ£o, lÃ¡pis, digital.','Copie estudos de artistas que vocÃª admira para entender tÃ©cnica.','Crie uma pequena sÃ©rie de 3 ilustraÃ§Ãµes com um tema.']},
  {name:'Pintura', picks:['Aprenda mistura de cores e teoria bÃ¡sica.','Tente aquarela, acrÃ­lica e Ã³leo (mini-experimentos).','FaÃ§a um estudo de cor com 3 paletas diferentes.','Pinte um quadro pequeno 3 vezes com variaÃ§Ãµes.','Participe de um desafio de pintura online.']},
  {name:'Fotografia', picks:['Estude composiÃ§Ã£o (regra dos terÃ§os, linhas).','Pratique em um tema diÃ¡rio: sombras, retratos, paisagens.','Aprenda ediÃ§Ã£o bÃ¡sica (contraste, cor) em app.','Experimente fotografia com celular e lente manual.','Crie um portfÃ³lio com 10 fotos e peÃ§a feedback.']},
  {name:'CulinÃ¡ria', picks:['Aprenda 5 receitas bÃ¡sicas (massa, arroz, proteÃ­na).','Pratique tÃ©cnicas: refogar, assar, grelhar.','Experimente uma cozinha internacional por semana.','FaÃ§a uma refeiÃ§Ã£o completa e fotografe o resultado.','Convide alguÃ©m para provar e peÃ§a opiniÃ£o.']},
  {name:'Jardinagem', picks:['Plante ervas em vasos (manjericÃ£o, hortelÃ£).','Aprenda sobre rega e tipos de solo.','FaÃ§a uma composteira pequena.','Tente propagaÃ§Ã£o por estacas.','Monitore crescimento e registre fotos semanais.']},
  {name:'MeditaÃ§Ã£o', picks:['Comece com 5â€“10 minutos diÃ¡rios.','Experimente meditaÃ§Ã£o guiada e silÃªncio.','Use tÃ©cnicas de respiraÃ§Ã£o 4-4-4.','Registre sensaÃ§Ãµes antes/depois por uma semana.','Aprenda um exercÃ­cio de atenÃ§Ã£o plena.']},
  {name:'Yoga', picks:['Pratique uma sequÃªncia de 20 minutos por dia.','Aprenda saudaÃ§Ãµes ao sol e postura bÃ¡sica.','Assista a aulas para alinhamento.','Trabalhe flexibilidade com alongamentos diÃ¡rios.','Combine respiraÃ§Ã£o com movimento.']},
  {name:'Escultura', picks:['Experimente argila de modelagem para iniciantes.','FaÃ§a estudos de formas simples.','Aprenda tÃ©cnicas de texturizaÃ§Ã£o.','Modele uma peÃ§a pequena e finalize.','Fotografe o processo para um diÃ¡rio criativo.']},
  {name:'Costura', picks:['Aprenda pontos bÃ¡sicos Ã  mÃ£o e na mÃ¡quina.','FaÃ§a um projeto pequeno: almofada ou mÃ¡scara.','Estude tipos de tecido e agulhas.','Repasse uma peÃ§a velha com ajuste.','Assista a tutoriais e repita o passo a passo.']},
  {name:'TricÃ´', picks:['Aprenda pontos base: meia e liga.','FaÃ§a uma amostra de 10x10cm.','Crie um projeto simples: cachecol.','Experimente diferentes fios e agulhas.','Participe de um grupo local ou online.']},
  {name:'Origami', picks:['Aprenda 5 dobras fundamentais.','FaÃ§a 3 figuras para decorar um quadro.','Estude diagramas e sÃ­mbolos.','Combine dobraduras em uma cena.','Crie cartÃµes com origami anexado.']},
  {name:'Astronomia', picks:['Aprenda constelaÃ§Ãµes visÃ­veis na sua cidade.','Use um app para identificar planetas.','Observe a lua por uma semana e registre fases.','Leia sobre telescÃ³pios e escolha um tipo.','FaÃ§a uma lista de eventos astronÃ´micos do mÃªs.']},
  {name:'ProgramaÃ§Ã£o', picks:['FaÃ§a um projeto simples (ex: to-do em JS).','Estude lÃ³gica e estruturas bÃ¡sicas.','Use exercÃ­cios diÃ¡rios (katas).','Leia cÃ³digo de projetos open-source.','Publique seu projeto no GitHub.']},
  {name:'Web Design', picks:['Aprenda HTML/CSS bÃ¡sicos.','Crie uma pÃ¡gina pessoal simples.','Estude princÃ­pios de UX e tipografia.','Crie 3 variaÃ§Ãµes de layout para a mesma pÃ¡gina.','PeÃ§a feedback e ajuste.']},
  {name:'Blogging', picks:['Escreva 5 posts curtos sobre um tema.','Aprenda tÃ©cnicas de tÃ­tulo e abertura.','Pratique revisÃ£o e ediÃ§Ã£o.','Publique um post e compartilhe.','Organize ideias em um calendÃ¡rio de conteÃºdo.']},
  {name:'Podcasting', picks:['Escreva roteiro para 1 episÃ³dio.','Grave um episÃ³dio curto (10â€“15 min).','Aprenda ediÃ§Ã£o bÃ¡sica de Ã¡udio.','Escolha identidade sonora e capa.','Publique um episÃ³dio piloto para amigos.']},
  {name:'Instrumento â€“ ViolÃ£o', picks:['Aprenda acordes abertos bÃ¡sicos.','Pratique mudanÃ§as de acorde 10 min/dia.','Aprenda 2 mÃºsicas simples.','Estude dedilhado bÃ¡sico.','Toque com um metrÃ´nomo para ritmo.']},
  {name:'Instrumento â€“ Teclado', picks:['Aprenda escalas e acordes bÃ¡sicos.','Toque progressÃµes simples.','Pratique coordenaÃ§Ã£o mÃ£os separadas.','Aprenda 2 mÃºsicas fÃ¡ceis.','Use apps para teoria musical.']},
  {name:'Canto', picks:['AqueÃ§a a voz com exercÃ­cios diÃ¡rios.','Pratique respiraÃ§Ã£o diafragmÃ¡tica.','Cante alongando notas por 30s.','Grave sua voz e escute para ajustar.','Aprenda uma canÃ§Ã£o e cante com acompanhamento.']},
  {name:'DanÃ§a', picks:['Aprenda passos bÃ¡sicos de um estilo.','Pratique coreografia curta.','Use vÃ­deos para corrigir postura.','Grave e observe seu movimento.','Participe de uma aula online.']},
  {name:'Budgeting', picks:['Crie um orÃ§amento simples para o mÃªs.','Registre despesas por 7 dias.','Identifique 3 despesas que cortar.','EstabeleÃ§a metas de economia.','Revise resultados no final do mÃªs.']},
  {name:'Investimentos (bÃ¡sico)', picks:['Aprenda conceitos: risco, liquidez, rentabilidade.','Estude tipos de investimento (renda fixa/variÃ¡vel).','Abra conta demo ou com pouco valor.','Monte mini-portfolio com metas.','Acompanhe desempenho por 30 dias.']},
  {name:'Idioma â€“ InglÃªs', picks:['Aprenda 20 palavras novas por semana.','Pratique listening com vÃ­deos curtos.','FaÃ§a uma conversa de 10 minutos.','Leia um artigo curto e resuma.','Use flashcards para revisÃ£o.']},
  {name:'Idioma â€“ Espanhol', picks:['Aprenda frases Ãºteis do cotidiano.','Pratique com apps de conversaÃ§Ã£o.','Assista a um vÃ­deo em espanhol e anote palavras.','FaÃ§a diÃ¡logos simples.','Leia notÃ­cias curtas em espanhol.']},
  {name:'Caligrafia', picks:['Pratique traÃ§os bÃ¡sicos e curvas.','FaÃ§a exercÃ­cios de espaÃ§amento.','Teste diferentes canetas.','Crie uma frase com letra decorativa.','Monte pequenos cartÃµes escritos Ã  mÃ£o.']},
  {name:'Calligrafia digital', picks:['Use tablet ou app e aprenda pincÃ©is.','Pratique letras maiÃºsculas e minÃºsculas.','Crie um cartÃ£o digital.','Experimente efeitos de sombra.','Partilhe em redes para feedback.']},
  {name:'Hiking', picks:['Planeje uma trilha curta local.','Cheque equipamentos bÃ¡sicos.','Pratique caminhada 2x por semana.','Leve um diÃ¡rio e registre a experiÃªncia.','Fotografe paisagens favoritas.']},
  {name:'Corrida', picks:['Inicie com corrida leve 3x/semana.','Use mÃ©todo intervalado para evoluÃ§Ã£o.','Acompanhe distÃ¢ncia e tempo.','FaÃ§a alongamento prÃ©/pÃ³s.','EstabeleÃ§a meta de 5km.']},
  {name:'Ciclismo', picks:['FaÃ§a passeios curtos e aumente distÃ¢ncia.','Verifique manutenÃ§Ã£o bÃ¡sica da bike.','Aprenda postura e cadÃªncia.','Experimente rotas diferentes.','Participe de um pedal em grupo.']},
  {name:'Marketching', picks:['Estude bÃ¡sico de pesquisa de mercado.','FaÃ§a uma mini-entrevista com 5 pessoas.','Analise concorrentes simples.','Crie um mapa de empatia.','Apresente descobertas para alguÃ©m.']},
  {name:'Design GrÃ¡fico', picks:['Aprenda ferramentas bÃ¡sicas (Figma/Canva).','Crie 3 variaÃ§Ãµes de um cartaz.','Estude teoria das cores.','RefaÃ§a um design famoso com sua versÃ£o.','PeÃ§a feedback e itere.']},
  {name:'UI/UX', picks:['Aprenda princÃ­pios de usabilidade.','Crie wireframe de uma tela.','FaÃ§a teste de usabilidade com um amigo.','Estude heurÃ­sticas de Nielsen.','Melhore um design existente.']},
  {name:'Videomaking', picks:['Planeje um roteiro curto.','Grave cenas simples com celular.','Aprenda cortes bÃ¡sicos na ediÃ§Ã£o.','Adicione trilha sonora livre de direitos.','Publique um vÃ­deo curto.']},
  {name:'EdiÃ§Ã£o de VÃ­deo', picks:['Aprenda um editor bÃ¡sico.','Corte e monte um episÃ³dio curto.','Experimente transiÃ§Ãµes e correÃ§Ã£o de cor.','Adicione tÃ­tulos e legendas.','Exporte em diferentes formatos.']},
  {name:'AnimaÃ§Ã£o', picks:['FaÃ§a flipbook simples para entender timing.','Use software bÃ¡sico para animaÃ§Ã£o 2D.','Crie uma cena de 5 segundos.','Estude princÃ­pios de animaÃ§Ã£o (squash, stretch).','Compartilhe para feedback.']},
  {name:'Jornalismo', picks:['Escreva uma matÃ©ria curta.','Aprenda checagem de fontes.','FaÃ§a uma entrevista simples.','Edite o texto com foco em clareza.','Publique em blog ou rede.']},
  {name:'Astral projection (curiosidade)', picks:['Leia materiais confiÃ¡veis sobre o tema.','Mantenha diÃ¡rio de sonhos.','Pratique relaxamento profundo.','Aprenda tÃ©cnicas de visualizaÃ§Ã£o.','Registre qualquer experiÃªncia e analise.']},
  {name:'DIY (faÃ§a vocÃª mesmo)', picks:['Escolha um projeto pequeno de madeira ou papel.','Planeje materiais e passos.','Monte e fotografe o processo.','Aprenda acabamento limpo.','Repita com variaÃ§Ã£o de design.']},
  {name:'Restauro de mÃ³veis', picks:['Comece com peÃ§a pequena a restaurar.','Aprenda tÃ©cnicas de lixamento e pintura.','Use produtos testados para acabamento.','Pratique remoÃ§Ã£o de ferrugem e verniz.','Documente antes e depois.']},
  {name:'Modelismo', picks:['Escolha um kit simples e monte com cuidado.','Pinte e aplique detalhes.','Use cola e ferramentas corretas.','Aprenda tÃ©cnicas de weathering.','Exponha o modelo e fotografe.']},
  {name:'Making (eletrÃ´nica bÃ¡sica)', picks:['Aprenda solda segura em placa de teste.','Monte um circuito simples (LED).','Use um microcontrolador bÃ¡sico.','Leia esquemas e componentes.','Crie um projeto funcional pequeno.']},
  {name:'RobÃ³tica', picks:['Aprenda lÃ³gica de sensores e atuadores.','Monte um robÃ´ simples com kit.','Programe comportamentos bÃ¡sicos.','Teste em pistas pequenas.','Itere o projeto com melhorias.']},
  {name:'CerÃ¢mica', picks:['FaÃ§a pequenas peÃ§as em argila.','Aprenda tÃ©cnicas de acabamento.','Experimente esmaltes e queima (se possÃ­vel).','Molde com ferramentas simples.','Crie um conjunto de 3 peÃ§as.']},
  {name:'Barista (cafÃ©)', picks:['Aprenda tipos de extraÃ§Ã£o (filtro, espresso).','Treine moagem e proporÃ§Ã£o.','FaÃ§a latte art bÃ¡sico.','Experimente blends e origem.','Documente receitas favoritas.']},
  {name:'Mixologia', picks:['Aprenda receitas bÃ¡sicas de coquetÃ©is.','Estude equilÃ­brio entre doce/Ã¡cido/amargo.','Pratique apresentaÃ§Ã£o e guarniÃ§Ãµes.','Crie uma receita original.','Registre variaÃ§Ãµes e notas.']},
  {name:'Herbalismo', picks:['Estude ervas comuns e usos.','FaÃ§a infusÃµes simples.','Aprenda sobre seguranÃ§a e dosagens.','Plante uma erva e monitore.','Crie uma rotina de chÃ¡s para bem-estar.']},
  {name:'Fotografia AnalÃ³gica', picks:['Aprenda tipos de filme e cÃ¢meras.','FaÃ§a rolos e revele (se possÃ­vel).','Pratique composiÃ§Ã£o sem ver o preview.','Digitalize negativos e edite.','Crie uma sÃ©rie temÃ¡tica.']},
  {name:'ProduÃ§Ã£o Musical', picks:['Aprenda um DAW bÃ¡sico.','Crie um loop e construa uma base.','Estude mixagem bÃ¡sica.','Colabore com um mÃºsico.','Exporte uma faixa curta.']},
  {name:'DJing', picks:['Aprenda a mixar duas faixas.','Entenda batida e BPM.','Pratique transiÃ§Ãµes suaves.','Crie uma playlist temÃ¡tica.','Grave um set curto.']},
  {name:'Board games (design)', picks:['Jogue 3 jogos para estudar mecÃ¢nica.','Crie um protÃ³tipo simples.','Teste com amigos e anote feedback.','Ajuste regras e balanceamento.','Finalize protÃ³tipo e jogue novamente.']},
  {name:'Calistenia', picks:['Aprenda movimentos bÃ¡sicos de peso corporal.','Pratique rotina de forÃ§a 3x/semana.','Monitore repetiÃ§Ãµes e progressÃ£o.','Aprenda tÃ©cnica para evitar lesÃµes.','Combine com trabalho de mobilidade.']},
  {name:'Marcenaria', picks:['FaÃ§a um projeto pequeno (prateleira).','Aprenda medidas e cortes.','Pratique acabamento e lixas.','Use ferramentas bÃ¡sicas com seguranÃ§a.','Documente o passo a passo.']},
  {name:'Aquarela urbana (plein air)', picks:['Saia para pintar uma cena curta.','Estude cores naturais e luz.','FaÃ§a estudos rÃ¡pidos (30 min).','Use papel apropriado.','Monte um pequeno sketchbook de rua.']},
  {name:'Leitura crÃ­tica', picks:['Leia 5 textos curtos de gÃªneros variados.','Resuma cada texto em 3 frases.','Identifique argumento e evidÃªncia em cada.','Discuta com alguÃ©m ou escreva uma resenha.','Crie perguntas crÃ­ticas sobre cada leitura.']},
  {name:'Automaquiagem', picks:['Aprenda uma rotina bÃ¡sica de pele.','Treine um look natural e um mais elaborado.','Aprenda contorno e iluminaÃ§Ã£o.','Pratique aplicaÃ§Ã£o simÃ©trica.','FaÃ§a fotos para ver resultados.']}
];

// ----- Estado local -----
const STORAGE_KEY = 'desafio30_hobbies_v1';
let state = { selected: [], completed: [], startedAt: null };

function saveState(){ localStorage.setItem(STORAGE_KEY, JSON.stringify(state)); }
function loadState(){ const s = localStorage.getItem(STORAGE_KEY); if(s){ try{ state = JSON.parse(s); }catch(e){} } updateUI(); }

// ----- Routers/views -----
const views = {
  home: document.getElementById('view-home'),
  selection: document.getElementById('view-selection'),
  dashboard: document.getElementById('view-dashboard'),
  hobby: document.getElementById('view-hobby'),
  result: document.getElementById('view-result')
};

function showView(name){ Object.values(views).forEach(v=>v.style.display='none'); views[name].style.display='block'; window.scrollTo({top:0,behavior:'smooth'}); }

// ----- Countdown -----
function getDaysLeft(){ if(!state.startedAt) return null; const start = new Date(state.startedAt); const end = new Date(start.getTime() + 30*24*60*60*1000); const now = new Date(); const diff = end - now; if(diff<=0) return 0; return Math.ceil(diff/(24*60*60*1000)); }

function updateCountdown(){ const top = document.getElementById('countdownTop'); const daysLeft = getDaysLeft(); if(state.startedAt){ if(daysLeft<=0){ top.textContent = '0 dias â€” Desafio finalizado â³'; } else { top.textContent = daysLeft + ' dias restantes â±ï¸'; } } else { top.textContent = 'NÃ£o iniciado â³'; }
  // small card
  const daysEl = document.getElementById('daysLeft'); daysEl.textContent = daysLeft===null? 'â€”' : daysLeft;
  const dashDays = document.getElementById('dashDaysLeft'); dashDays.textContent = daysLeft===null? 'â€”' : daysLeft;
}

// prog
function updateProgress(){ const count = state.completed.length; const inner = document.getElementById('progBarInner'); const text = document.getElementById('progText'); const pct = Math.round((count/5)*100); inner.style.width = pct + '%'; text.textContent = count + '/5'; }

// ----- Build selection grid -----
function buildGrid(){ const grid = document.getElementById('hobbyGrid'); grid.innerHTML=''; HOBBIES.forEach((h,i)=>{
  const el = document.createElement('label'); el.className='hobby-item'; el.dataset.idx=i;
  const checkbox = document.createElement('input'); checkbox.type='checkbox'; checkbox.dataset.idx=i;
  const div = document.createElement('div'); div.style.display='flex'; div.style.flexDirection='column';
  const name = document.createElement('div'); name.className='hobby-name'; name.textContent = h.name + ' ğŸ”§';
  const small = document.createElement('div'); small.className='muted'; small.style.fontSize='12px'; small.textContent = h.picks[0];
  div.appendChild(name); div.appendChild(small);
  el.appendChild(checkbox); el.appendChild(div);
  checkbox.addEventListener('change', onCheck);
  el.addEventListener('click', function(e){ if(e.target.tagName !== 'INPUT') checkbox.checked = !checkbox.checked; checkbox.dispatchEvent(new Event('change')); });
  grid.appendChild(el);
}); updateSelectionChecks(); }

function onCheck(e){ const idx = Number(e.target.dataset.idx); const checked = e.target.checked; if(checked){ if(state.selected.length>=5){ // prevent
    e.target.checked=false; shake(e.target.closest('.hobby-item')); flashNotice('VocÃª sÃ³ pode escolher 5 hobbies.'); return; }
    if(!state.selected.includes(idx)) state.selected.push(idx);
  } else { state.selected = state.selected.filter(x=>x!==idx); }
  saveState(); updateSelectionChecks(); }

function updateSelectionChecks(){ document.querySelectorAll('#hobbyGrid input').forEach(inp=>{ const i = Number(inp.dataset.idx); inp.checked = state.selected.includes(i); }); }

function shake(el){ if(!el) return; el.style.transition='transform .12s'; el.style.transform='translateX(-6px)'; setTimeout(()=>{el.style.transform='translateX(6px)'; setTimeout(()=>{el.style.transform='';},120);},120); }

function flashNotice(txt){ const prev=document.getElementById('_notice'); if(prev) prev.remove(); const n=document.createElement('div'); n.id='_notice'; n.textContent=txt; n.style.position='fixed'; n.style.right='18px'; n.style.top='18px'; n.style.padding='10px 14px'; n.style.borderRadius='10px'; n.style.background='linear-gradient(90deg, rgba(43,138,246,0.14), rgba(110,168,255,0.08))'; n.style.backdropFilter='blur(6px)'; n.style.boxShadow='0 10px 30px rgba(2,6,23,0.6)'; document.body.appendChild(n); setTimeout(()=>n.style.opacity='0',2200); setTimeout(()=>n.remove(),2600); }

// ----- Dashboard build -----
function buildDashboard(){ const wrap = document.getElementById('selectedHobbies'); wrap.innerHTML=''; state.selected.forEach(idx=>{
  const data = HOBBIES[idx]; const card = document.createElement('div'); card.className='hobby-card card';
  card.innerHTML = `<div style="display:flex;align-items:center;justify-content:space-between"><div><div style='font-weight:700'>${data.name} ${getEmojiForName(data.name)}</div><div class='muted' style='margin-top:6px'>${data.picks[0]}</div></div><div style='display:flex;flex-direction:column;gap:8px;align-items:flex-end'><div class='pill'>${state.completed.includes(idx)? 'âœ… ConcluÃ­do':'âŒ› Pendente'}</div><div style='display:flex;gap:8px'><button class='btn ghost view-hobby' data-idx='${idx}'>Abrir</button></div></div></div>`;
  wrap.appendChild(card);
}); document.querySelectorAll('.view-hobby').forEach(b=>b.addEventListener('click', e=>{ const idx=Number(e.currentTarget.dataset.idx); openHobby(idx); })); updateProgress(); }

function getEmojiForName(name){ // small mapping for fun
  if(/guitarra|violÃ£o|teclado|canto|mÃºsica|DJ|ProduÃ§Ã£o Musical/i.test(name)) return 'ğŸµ';
  if(/pintura|desenho|aquarela|ilustraÃ§Ã£o|escultura/i.test(name)) return 'ğŸ¨';
  if(/fotografia/i.test(name)) return 'ğŸ“·';
  if(/culinÃ¡ria|barista|mixologia/i.test(name)) return 'ğŸ³';
  if(/meditaÃ§Ã£o|yoga/i.test(name)) return 'ğŸ§˜';
  if(/programaÃ§Ã£o|web|design|UI|UX|tech|robotica|eletrÃ´nica/i.test(name)) return 'ğŸ’»';
  if(/jardinagem|horta|plantas/i.test(name)) return 'ğŸŒ±';
  if(/corrida|ciclismo|hiking|calistenia/i.test(name)) return 'ğŸƒ';
  return 'âœ¨';
}

// ----- Hobby detail -----
let currentHobbyIdx = null;
function openHobby(idx){ currentHobbyIdx = idx; const data = HOBBIES[idx]; document.getElementById('hobbyTitle').textContent = data.name + ' ' + getEmojiForName(data.name);
  document.getElementById('hobbySubtitle').textContent = state.completed.includes(idx)? 'ConcluÃ­do âœ…' : 'Pendente âŒ›';
  const ul = document.getElementById('suggestionsList'); ul.innerHTML=''; data.picks.forEach(s=>{ const li = document.createElement('li'); li.textContent = 'ğŸ”¹ ' + s; ul.appendChild(li); });
  showView('hobby'); updateURLHash(); }

// ----- Complete hobby action -----
document.getElementById('completeHobby').addEventListener('click', ()=>{
  if(currentHobbyIdx===null) return; if(!state.completed.includes(currentHobbyIdx)) state.completed.push(currentHobbyIdx);
  saveState(); flashNotice('Hobby marcado como concluÃ­do âœ…'); document.getElementById('hobbySubtitle').textContent = 'ConcluÃ­do âœ…'; updateUI(); checkEndConditions(); });

// ----- Confirm selection -----
document.getElementById('confirmSelection').addEventListener('click', ()=>{
  if(state.selected.length!==5){ flashNotice('Escolha exatamente 5 hobbies antes de confirmar.'); return; }
  // if not started, ensure startedAt exists (it is set when clicking Iniciar)
  if(!state.startedAt) state.startedAt = new Date().toISOString();
  saveState(); buildDashboard(); showView('dashboard'); updateURLHash(); updateUI(); });

// ----- Start, navigation, reset -----
document.getElementById('startBtn').addEventListener('click', ()=>{
  // set start immediately
  if(!state.startedAt) state.startedAt = new Date().toISOString(); saveState(); buildGrid(); showView('selection'); updateURLHash(); updateUI(); });

document.getElementById('seeHobbies').addEventListener('click', ()=>{ buildGrid(); showView('selection'); updateURLHash(); });

document.getElementById('backToHome').addEventListener('click', ()=>{ showView('home'); updateURLHash(); });

document.getElementById('backToDash').addEventListener('click', ()=>{ buildDashboard(); showView('dashboard'); updateURLHash(); });

document.getElementById('goHome').addEventListener('click', ()=>{ showView('home'); updateURLHash(); });

document.getElementById('resetBtn').addEventListener('click', ()=>{
  if(!confirm('Deseja reiniciar o desafio e apagar progresso salvo?')) return; state = { selected: [], completed: [], startedAt: null }; saveState(); updateUI(); showView('home'); });

// share and result nav
document.getElementById('shareBtn').addEventListener('click', ()=>{ const msg = generateResultMessage(); navigator.clipboard && navigator.clipboard.writeText(msg); flashNotice('Resultado copiado para a Ã¡rea de transferÃªncia ğŸ‰'); });

document.getElementById('goHomeFromResult').addEventListener('click', ()=>{ showView('home'); });

// ----- URL hash management -----
function updateURLHash(){ const h = location.hash.replace('#',''); if(showing() === 'selection') location.hash = '#selection'; else if(showing() === 'dashboard') location.hash = '#dashboard'; else if(showing() === 'hobby' && currentHobbyIdx!==null) location.hash = '#hobby-'+currentHobbyIdx; else if(showing()==='result') location.hash='#result'; else location.hash=''; }

function showing(){ for(const k in views) if(views[k].style.display!=='none') return k; return null; }

window.addEventListener('hashchange', ()=>{
  const h = location.hash.replace('#',''); if(h.startsWith('hobby-')){ const idx = Number(h.split('-')[1]); openHobby(idx); }
  else if(h==='selection') showView('selection'); else if(h==='dashboard') showView('dashboard'); else if(h==='result') showView('result'); else showView('home'); });

// ----- End conditions -----
function checkEndConditions(){ // check if time up or all done
  const daysLeft = getDaysLeft(); if(state.completed.length>=5){ showResult(true); }
  else if(state.startedAt && daysLeft===0){ showResult(false); }
}

function showResult(won){ const el = document.getElementById('resultContent'); if(won){ el.innerHTML = `<h2>ParabÃ©ns! ğŸ‰ VocÃª completou o desafio!</h2><p class='muted'>VocÃª concluiu ${state.completed.length}/5 hobbies dentro do prazo â€” incrÃ­vel! ğŸš€</p>`; } else { el.innerHTML = `<h2>Desafio finalizado â³</h2><p class='muted'>VocÃª completou ${state.completed.length}/5 hobbies. Continue a praticar â€” ainda hÃ¡ muito para explorar! ğŸ’ª</p>`; }
  showView('result'); updateURLHash(); }

function generateResultMessage(){ if(state.completed.length>=5) return `ConcluÃ­ o Desafio 30 Dias de Hobbies â€” completei ${state.completed.length}/5! ğŸ‰`; else return `Participei do Desafio 30 Dias de Hobbies â€” completei ${state.completed.length}/5. Vou continuar! ğŸš€`; }

// ----- UI refresh -----
function updateUI(){ updateCountdown(); updateProgress(); // update selection checks
  updateSelectionChecks(); // update dashboard if visible
  if(showing()==='dashboard') buildDashboard(); // check end
  if(state.startedAt){ // if time passed
    const daysLeft = getDaysLeft(); if(daysLeft===0){ checkEndConditions(); }
  }
}

// interval for countdown update
setInterval(()=>{ updateCountdown(); }, 1000*30);

// initial load
loadState(); buildGrid(); updateUI();

// if hash present on load
if(location.hash.startsWith('#hobby-')){ const idx = Number(location.hash.split('-')[1]); if(!isNaN(idx)) openHobby(idx); }
else if(location.hash==='#selection') showView('selection'); else if(location.hash==='#dashboard') showView('dashboard'); else if(location.hash==='#result') showView('result'); else showView('home');

// quick check every minute for time-ended
setInterval(()=>{ if(state.startedAt){ if(getDaysLeft()===0){ checkEndConditions(); } } }, 1000*60);

</script>
</body>
</html>
